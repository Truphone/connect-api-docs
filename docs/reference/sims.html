

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SIM &mdash; Connect API 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Subscriptions" href="subscriptions.html" />
    <link rel="prev" title="Products" href="products.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
    
        <a href="../index.html">
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
        </a>
    

    
        <a href="../index.html">Connect API</a>
    
    

    
    
    
    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ratelimits.html">Rate limits and quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roles.html">Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
</ul>
<p class="caption"><span class="caption-text">Recipes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/new-esim.html">Getting a new eSIM</a></li>
</ul>
<p class="caption"><span class="caption-text">Connectivity Management</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="orders.html">Orders</a></li>
<li class="toctree-l1"><a class="reference internal" href="products.html">Products</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">SIM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sim-resource">SIM Resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#properties">Properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#get-sim-details">Get SIM details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-request">Example Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-response">Example Response</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#update-eid">Update EID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Example Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Example Response</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sim-preferences-resource">SIM Preferences Resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-sim-preferences">Get SIM Preferences</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Example Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Example Response</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#register-for-notifications">Register for notifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Example request</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#unregister-from-notifications">Unregister from notifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Example request</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="subscriptions.html">Subscriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Customer Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="customer.html">Customer</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Connect API</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>SIM</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/Truphone/connect-api-docs/blob/master/source/reference/sims.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sim">
<h1>SIM<a class="headerlink" href="#sim" title="Permalink to this headline">¶</a></h1>
<div class="section" id="sim-resource">
<h2>SIM Resource<a class="headerlink" href="#sim-resource" title="Permalink to this headline">¶</a></h2>
<p>A Truphone subscriber. Can be a physical SIM or eSIM and it holds profile related information as well as subscriber specific information. The SIM is usually tied to an individual and a device. It is a requirement to purchase any type of connectivity.</p>
<div class="section" id="properties">
<h3>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th align="center">Property Name</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">iccid</td>
<td align="center">The SIM profile ICCID</td>
</tr>
<tr>
<td align="center">matching_id  or matchingId</td>
<td align="center">The profile activation code (eSIM only)</td>
</tr>
<tr>
<td align="center">status or profileStatus</td>
<td align="center">The install status of the profile (eSIM only)</td>
</tr>
<tr>
<td align="center">eid</td>
<td align="center">The EID associated with an eSIM. It's only present if the eSIM<br />was ordered with an EID or if it is installed.</td>
</tr>
<tr>
<td align="center">lpa_url</td>
<td align="center">LPA URL for generating a QRCode</td>
</tr>
<tr>
<td align="center">last_modified</td>
<td align="center">The date of the last status change</td>
</tr>
</tbody>
</table><p><strong>Possible values for <code class="docutils literal notranslate"><span class="pre">status</span></code></strong></p>
<table border="1" class="docutils">
<thead>
<tr>
<th align="center">Status</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Released</td>
<td align="center">Ready to be reinstalled by the customer</td>
</tr>
<tr>
<td align="center">Downloaded</td>
<td align="center">Downloaded in eUICC of customer device</td>
</tr>
<tr>
<td align="center">Installed</td>
<td align="center">Installed in eUICC of customer device</td>
</tr>
<tr>
<td align="center">Unavailable</td>
<td align="center">Deleted from eUICC of customer device</td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" id="get-sim-details">
<h2>Get SIM details<a class="headerlink" href="#get-sim-details" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Allowed roles: <code class="docutils literal notranslate"><span class="pre">RESELLER</span></code>, <code class="docutils literal notranslate"><span class="pre">ACCOUNT_MANAGER</span></code></p></li>
<li><p>URL:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">v1/sim/{iccid}</span></code></p></li>
</ul>
</li>
<li><p>METHOD: <code class="docutils literal notranslate"><span class="pre">GET</span></code></p></li>
</ul>
<div class="section" id="example-request">
<h3>Example Request<a class="headerlink" href="#example-request" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X GET <span class="se">\</span>
  https://services.truphone.com/connect-api/v1/sim/8944474600000109251 <span class="se">\</span>
   -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$ACCESS_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Cache-Control: no-cache&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;X-Correlation-ID: unique-id-from-requester-123&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-response">
<h3>Example Response<a class="headerlink" href="#example-response" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;iccid&quot;</span><span class="p">:</span> <span class="s2">&quot;8944474600000063847&quot;</span><span class="p">,</span>
  <span class="nt">&quot;matching_id&quot;</span><span class="p">:</span> <span class="s2">&quot;O-17QF0-MJVBIN&quot;</span><span class="p">,</span>
  <span class="nt">&quot;matchingId&quot;</span><span class="p">:</span> <span class="s2">&quot;O-17QF0-MJVBIN&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Released&quot;</span><span class="p">,</span>
  <span class="nt">&quot;profileStatus&quot;</span><span class="p">:</span> <span class="s2">&quot;Released&quot;</span><span class="p">,</span>
  <span class="nt">&quot;eid&quot;</span><span class="p">:</span> <span class="s2">&quot;89001012012341234012345678901224&quot;</span><span class="p">,</span>
  <span class="nt">&quot;last_modified&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-02T09:09:33Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;lpa_url&quot;</span><span class="p">:</span> <span class="s2">&quot;LPA:1$rsp.truphone.com$O-17QF0-MJVBIN&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-eid">
<h2>Update EID<a class="headerlink" href="#update-eid" title="Permalink to this headline">¶</a></h2>
<p>If an eSIM was deleted from the phone, or never got to be installed (i.e. the state is <code class="docutils literal notranslate"><span class="pre">Released</span></code>), it is possible to change the EID it was previopusly associated with.</p>
<ul class="simple">
<li><p>Allowed roles: <code class="docutils literal notranslate"><span class="pre">RESELLER</span></code>, <code class="docutils literal notranslate"><span class="pre">ACCOUNT_MANAGER</span></code></p></li>
<li><p>URL:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">v1/sim/{iccid}</span></code></p></li>
</ul>
</li>
<li><p>METHOD: <code class="docutils literal notranslate"><span class="pre">PUT</span></code></p></li>
</ul>
<div class="section" id="id1">
<h3>Example Request<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X PUT <span class="se">\</span>
  https://services.truphone.com/connect-api/v1/sim/8944474600000109251 <span class="se">\</span>
   -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$ACCESS_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Cache-Control: no-cache&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;X-Correlation-ID: unique-id-from-requester-123&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Example Response<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;iccid&quot;</span><span class="p">:</span> <span class="s2">&quot;8944474600000063847&quot;</span><span class="p">,</span>
  <span class="nt">&quot;matching_id&quot;</span><span class="p">:</span> <span class="s2">&quot;O-17QF0-MJVBIN&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Released&quot;</span><span class="p">,</span>
  <span class="nt">&quot;eid&quot;</span><span class="p">:</span> <span class="s2">&quot;89001012012341234012345678901224&quot;</span><span class="p">,</span>
  <span class="nt">&quot;last_modified&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-02T09:09:33Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;lpa_url&quot;</span><span class="p">:</span> <span class="s2">&quot;LPA:1$rsp.truphone.com$O-17QF0-MJVBIN&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sim-preferences-resource">
<h2>SIM Preferences Resource<a class="headerlink" href="#sim-preferences-resource" title="Permalink to this headline">¶</a></h2>
<p>SIM profiles/subscribers allow configuration of specific preferences which enable/disable features during the connectivity lifecycle. Currently, the only preference we support is registering/unregistering for usage and depletion notifications.</p>
</div>
<div class="section" id="get-sim-preferences">
<h2>Get SIM Preferences<a class="headerlink" href="#get-sim-preferences" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Allowed roles: <code class="docutils literal notranslate"><span class="pre">RESELLER</span></code>, <code class="docutils literal notranslate"><span class="pre">ACCOUNT_MANAGER</span></code></p></li>
<li><p>URL: <code class="docutils literal notranslate"><span class="pre">v1/sim/{iccid}/preferences</span></code></p></li>
<li><p>METHOD: <code class="docutils literal notranslate"><span class="pre">GET</span></code></p></li>
</ul>
<div class="section" id="id3">
<h3>Example Request<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X GET <span class="se">\</span>
  https://services.truphone.com/connect-api/v1/sim/8944474600000109251/preferences <span class="se">\</span>
   -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$ACCESS_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Cache-Control: no-cache&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;X-Correlation-ID: unique-id-from-requester-123&#39;</span>
   -d <span class="s1">&#39;{</span>
<span class="s1">       &quot;eid&quot;: &quot;89238765176357612536712567352176&quot;</span>
<span class="s1">   }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Example Response<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;notifications&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SUBSCRITPION_END&quot;</span><span class="p">,</span>
      <span class="nt">&quot;webhook_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://acme-flights.com/notifications/handler&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;USAGE_THRESHOLD&quot;</span><span class="p">,</span>
      <span class="nt">&quot;webhook_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://acme-flights.com/notifications/handler&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="register-for-notifications">
<h2>Register for notifications<a class="headerlink" href="#register-for-notifications" title="Permalink to this headline">¶</a></h2>
<p>Currently, the only form of notification we support is through webhooks. Each SIM can be registerd for receiving the different types of notifications individually. For information on the notification format, check the <a class="reference internal" href="notifications.html"><span class="doc">notifications</span></a> document</p>
<ul class="simple">
<li><p>Allowed roles: <code class="docutils literal notranslate"><span class="pre">RESELLER</span></code>, <code class="docutils literal notranslate"><span class="pre">ACCOUNT_MANAGER</span></code></p></li>
<li><p>URL: <code class="docutils literal notranslate"><span class="pre">v1/sim/{iccid}/preferences/notifications/{type}</span></code></p></li>
<li><p>METHOD: <code class="docutils literal notranslate"><span class="pre">POST</span></code></p></li>
</ul>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th align="center">Parameter Name</th>
<th align="center">Description</th>
<th align="center">Required</th>
<th align="center">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">type</td>
<td align="center">The type of notification to subscribe to.<br>Must be one of the following:<br> <code>SUBSCRITPION_END</code>, <code>USAGE_THRESHOLD</code></td>
<td align="center">yes</td>
<td align="center">--</td>
</tr>
<tr>
<td align="center">webhook_url</td>
<td align="center">A webhook url to call</td>
<td align="center">yes</td>
<td align="center">--</td>
</tr>
</tbody>
</table></div>
<div class="section" id="id5">
<h3>Example request<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="se">\</span>
  https://services.truphone.com/connect-api/v1/sim/8944474600000109251/preferences/notifications/SUBSCRIPTION_END <span class="se">\</span>
   -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$ACCESS_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Cache-Control: no-cache&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;X-Correlation-ID: unique-id-from-requester-123&#39;</span>
   -d <span class="s1">&#39;{</span>
<span class="s1">       &quot;webhook_url&quot;: &quot;http://acme-flights.com/notifications/handler&quot;</span>
<span class="s1">   }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unregister-from-notifications">
<h2>Unregister from notifications<a class="headerlink" href="#unregister-from-notifications" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Allowed roles: <code class="docutils literal notranslate"><span class="pre">RESELLER</span></code>, <code class="docutils literal notranslate"><span class="pre">ACCOUNT_MANAGER</span></code></p></li>
<li><p>URL: <code class="docutils literal notranslate"><span class="pre">v1/sim/{iccid}/preferences/notifications/{type}</span></code></p></li>
<li><p>METHOD: <code class="docutils literal notranslate"><span class="pre">DELETE</span></code></p></li>
</ul>
<div class="section" id="id6">
<h3>Example request<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X DELETE <span class="se">\</span>
  https://services.truphone.com/connect-api/v1/sim/8944474600000109251/preferences/notifications/SUBSCRIPTION_END <span class="se">\</span>
   -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$ACCESS_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Cache-Control: no-cache&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
   -H <span class="s1">&#39;X-Correlation-ID: unique-id-from-requester-123&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="subscriptions.html" class="btn btn-neutral float-right" title="Subscriptions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="products.html" class="btn btn-neutral float-left" title="Products" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Truphone

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>